[{"url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nclass StatusDashboard {\n  constructor() {\n    this.projectRoot = path.resolve(__dirname, '../..');\n    this.backlogFile = path.join(this.projectRoot, '.cody/project/build/feature-backlog.md');\n    this.beadsFile = path.join(this.projectRoot, '.beads/issues.jsonl');\n    this.version = this.getCurrentVersion();\n  }\n\n  getCurrentVersion() {\n    try {\n      const packageJson = JSON.parse(fs.readFileSync(path.join(this.projectRoot, 'package.json'), 'utf8'));\n      return packageJson.version;\n    } catch (error) {\n      return '0.19.4';\n    }\n  }\n\n  parseCodyBacklog() {\n    if (!fs.existsSync(this.backlogFile)) {\n      return { versions: {}, features: [] };\n    }\n\n    const content = fs.readFileSync(this.backlogFile, 'utf8');\n    const lines = content.split('\\n');\n    \n    const versions = {};\n    let currentVersion = null;\n    let currentFeatures = [];\n    \n    for (const line of lines) {\n      const versionMatch = line.match(/^## v([0-9.]+).*? - (ðŸŸ¢|ðŸŸ¡|ðŸ”´)/);\n      if (versionMatch) {\n        if (currentVersion && currentFeatures.length > 0) {\n          versions[currentVersion] = currentFeatures;\n        }\n        currentVersion = versionMatch[1];\n        currentFeatures = [];\n        continue;\n      }\n\n      const featureMatch = line.match(/^| (Fd+) | ([^|]+) | ([^|]+) | (High|Medium|Low) | (ðŸ”´|ðŸŸ¡|ðŸŸ¢)/);\n      if (featureMatch && currentVersion) {\n        const [, id, title, description, priority, status] = featureMatch;\n        currentFeatures.push({\n          id,\n          title: title.trim(),\n          description: description.trim(),\n          priority,\n          status: this.mapStatus(status)\n        });\n      }\n    }\n\n    if (currentVersion && currentFeatures.length > 0) {\n      versions[currentVersion] = currentFeatures;\n    }\n\n    return { versions, features: currentFeatures };\n  }\n\n  mapStatus(status) {\n    switch (status) {\n      case 'ðŸŸ¢ Completed': return 'completed';\n      case 'ðŸŸ¡ In Progress': return 'in_progress';\n      case 'ðŸ”´ Not Started': return 'todo';\n      default: return 'todo';\n    }\n  }\n\n  parseBeadsIssues() {\n    if (!fs.existsSync(this.beadsFile)) {\n      return [];\n    }\n\n    const content = fs.readFileSync(this.beadsFile, 'utf8');\n    const lines = content.trim().split('\\n');\n    \n    const issues = [];\n    for (const line of lines) {\n      if (line.trim()) {\n        try {\n          const issue = JSON.parse(line);\n          issues.push(issue);\n        } catch (error) {\n          // Skip malformed lines\n        }\n      }\n    }\n\n    return issues;\n  }\n\n  calculateVersionStats(version, codyFeatures, beadsIssues) {\n    // Filter issues for this version\n    const versionIssues = beadsIssues.filter(issue => {\n      const title = issue.title || '';\n      return title.includes(`(${version})`) || title.includes(`v${version}`);\n    });\n\n    const total = versionIssues.length;\n    const completed = versionIssues.filter(i => i.status === 'completed').length;\n    const inProgress = versionIssues.filter(i => i.status === 'in_progress').length;\n    const blocked = versionIssues.filter(i => i.status === 'blocked').length;\n    const todo = versionIssues.filter(i => i.status === 'todo').length;\n    const review = versionIssues.filter(i => i.status === 'review').length;\n    \n    const completionRate = total > 0 ? Math.round((completed / total) * 100) : 0;\n    \n    // Risk assessment\n    const risks = [];\n    if (completionRate < 25 && total > 0) {\n      risks.push('Low completion rate');\n    }\n    if (blocked > 0) {\n      risks.push(`${blocked} blocked issues`);\n    }\n    if (inProgress > completed * 2) {\n      risks.push('High WIP count');\n    }\n    if (completionRate > 80 && review > 0) {\n      risks.push(`${review} issues in review`);\n    }\n    \n    return {\n      version,\n      total,\n      completed,\n      inProgress,\n      blocked,\n      review,\n      todo,\n      completionRate,\n      risk: risks.length > 0 ? risks.join(', ') : 'Low risk',\n      codyFeatures: codyFeatures.filter(f => f.version === version),\n      beadsIssues: versionIssues\n    };\n  }\n\n  generateDashboard() {\n    console.clear();\n    console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');\n    console.log(`â•‘           VERSION ${this.version} PROJECT HEALTH DASHBOARD                   â•‘`);\n    console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');\n    console.log('');\n\n    try {\n      const { versions, features } = this.parseCodyBacklog();\n      const issues = this.parseBeadsIssues();\n      \n      // Cody Planning Status\n      console.log('ðŸ“‹ CODY PLANNING STATUS');\n      console.log('â”œâ”€ Features in backlog:', features.length);\n      console.log(`â”œâ”€ Active versions: ${Object.keys(versions).length}`);\n      \n      // Beads Execution Status\n      console.log('ðŸ”® BEADS EXECUTION STATUS');\n      console.log(`â”œâ”€ Total issues: ${issues.length}`);\n      \n      const completed = issues.filter(i => i.status === 'completed').length;\n      const inProgress = issues.filter(i => i.status === 'in_progress').length;\n      const blocked = issues.filter(i => i.status === 'blocked').length;\n      \n      console.log(`â”œâ”€ Completed: ${completed} (${issues.length > 0 ? Math.round((completed / issues.length) * 100) : 0}%)`);\n      console.log(`â”œâ”€ In Progress: ${inProgress}`);\n      console.log(`â”œâ”€ Blocked: ${blocked}`);\n      console.log(`â””â”€ Ready to start: ${issues.filter(i => i.status === 'todo').length}`);\n      console.log('');\n      \n      // Version Details\n      if (Object.keys(versions).length > 0) {\n        console.log('ðŸ“Š VERSION BREAKDOWN');\n        \n        for (const [version, codyFeatures] of Object.entries(versions)) {\n          const stats = this.calculateVersionStats(version, codyFeatures, issues);\n          \n          const status = stats.completionRate === 100 ? 'ðŸŸ¢' : \n                         stats.completionRate > 50 ? 'ðŸŸ¡' : 'ðŸ”´';\n          \n          console.log(`\n${status} v${version} (${stats.completionRate}% complete)`);\n          console.log(`â”œâ”€ Cody Features: ${stats.codyFeatures.length}`);\n          console.log(`â”œâ”€ Beads Issues: ${stats.total}`);\n          console.log(`â”œâ”€ Completed: ${stats.completed}`);\n          console.log(`â”œâ”€ In Progress: ${stats.inProgress}`);\n          console.log(`â”œâ”€ Blocked: ${stats.blocked}`);\n          console.log(`â””â”€ Risk: ${stats.risk}`);\n        }\n      }\n      \n      console.log('');\n      \n      // Risk Assessment\n      console.log('âš ï¸  RISK ASSESSMENT');\n      const globalRisks = [];\n      \n      if (blocked > 0) {\n        globalRisks.push(`${blocked} blocked issues need attention`);\n      }\n      \n      if (inProgress > completed * 2) {\n        globalRisks.push('High WIP count - focus on completing existing work');\n      }\n      \n      if (issues.length > 200) {\n        globalRisks.push('Database size >200 - run cleanup recommended');\n      }\n      \n      if (globalRisks.length === 0) {\n        console.log('â””â”€ Overall risk: LOW ðŸŸ¢');\n      } else {\n        console.log('â””â”€ Overall risk: MEDIUM ðŸŸ¡');\n        globalRisks.forEach(risk => console.log(`   âš ï¸  ${risk}`));\n      }\n      \n      console.log('');\n      console.log('ðŸš€ QUICK ACTIONS');\n      console.log('â”œâ”€ Check ready work: bd --no-daemon ready --json');\n      console.log('â”œâ”€ Start new session: ./scripts/session-notes.sh');\n      console.log('â”œâ”€ Sync backlog: bun run sync:backlog-to-beads');\n      console.log('â”œâ”€ Update status: bun run sync:beads-to-cody');\n      console.log('â””â”€ Generate release notes: bun run sync:release-notes');\n      \n    } catch (error) {\n      console.error('ðŸ’¥ Dashboard generation failed:', error.message);\n      process.exit(1);\n    }\n  }\n}\n\n// CLI interface\nif (import.meta.url === `file://${process.argv[1]}`) {\n  const dashboard = new StatusDashboard();\n  \n  const version = process.argv.find(arg => arg.startsWith('--version='));\n  if (version) {\n    dashboard.version = version.split('=')[1];\n  }\n\n  dashboard.generate();\n}\n\nexport default StatusDashboard;"]