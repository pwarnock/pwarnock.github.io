/* ==========================================================================
   PROSE TYPOGRAPHY
   Typography for blog content and articles
   ========================================================================== */

/* Prose Content Spacing - Modern 2024-2025 Typography */
@layer base {
  .prose h1 {
    margin-top: var(--space-8);
    margin-bottom: var(--space-6);
    line-height: 1.2; /* Tighter for impact */
    font-weight: 300; /* Light weight for modern look */
    font-size: clamp(2rem, 5vw + 1rem, 3.5rem); /* Fluid large heading */
    letter-spacing: -0.02em; /* Tight letter spacing */
    max-width: 70ch; /* Readable line length */
  }

  .prose h2 {
    margin-top: var(--space-8);
    margin-bottom: var(--space-5);
    line-height: 1.3;
    font-weight: 400; /* Medium weight */
    font-size: clamp(1.5rem, 3vw + 0.5rem, 2.5rem); /* Fluid larger heading */
    letter-spacing: -0.01em;
    max-width: 75ch;
  }

  .prose h3 {
    margin-top: var(--space-6);
    margin-bottom: var(--space-4);
    line-height: 1.4;
    font-weight: 500; /* Medium-semibold */
    font-size: clamp(1.25rem, 2vw + 0.25rem, 1.75rem); /* Fluid medium heading */
    max-width: 80ch;
  }

  .prose p {
    margin-bottom: var(--space-6); /* Generous spacing */
    line-height: 1.7; /* Improved readability */
    font-size: clamp(1rem, 1.5vw + 0.75rem, 1.125rem); /* Fluid body text */
    max-width: 70ch; /* Optimal reading length */
  }

  /* Enhanced link styling for better visibility - a11y compliant */
  .prose a {
    color: oklch(var(--p));
    text-decoration: none; /* Remove problematic default underline */
    border-bottom: 2px solid oklch(var(--p));
    padding-bottom: 0.1em;
    margin-right: 0.05em; /* Small gap for punctuation */
    transition: all var(--transition-fast);
    position: relative;
    font-weight: var(--font-weight-medium);
  }

  .prose a:hover {
    color: oklch(var(--p) / 0.8);
    border-bottom-color: oklch(var(--p) / 0.6);
  }

  .prose a:focus {
    outline: 2px solid oklch(var(--p));
    outline-offset: 2px;
    border-bottom-color: transparent; /* Avoid double underline */
    border-radius: var(--radius-sm);
  }

  /* List styling */
  .prose ul {
    list-style-type: disc;
    padding-left: var(--space-8);
    margin-bottom: var(--space-6);
    max-width: 65ch; /* Optimal for lists */
  }

  .prose ol {
    list-style-type: decimal;
    padding-left: var(--space-8);
    margin-bottom: var(--space-6);
    max-width: 65ch;
  }

  .prose li {
    margin-bottom: var(--space-3);
    line-height: 1.7; /* Improved readability */
    font-size: 1.05rem; /* Slightly larger */
  }

  /* Blockquote styling */
  .prose blockquote {
    border-left: 4px solid oklch(var(--p));
    margin: var(--space-8) 0; /* More generous spacing */
    font-style: italic;
    color: oklch(var(--bc));
    background-color: oklch(var(--b2));
    padding: var(--space-6);
    padding-left: var(--space-8);
    border-radius: var(--radius-lg);
    font-size: 1.1rem; /* Slightly larger for emphasis */
  }

  /* Table styling */
  .prose table {
    width: 100%;
    border-collapse: collapse;
    margin: var(--space-6) 0;
    font-size: var(--font-size-sm);
  }

  .prose th,
  .prose td {
    padding: var(--space-3) var(--space-4);
    border-bottom: 1px solid oklch(var(--bc) / 0.1);
  }

  .prose th {
    background-color: oklch(var(--b2));
    font-weight: var(--font-weight-semibold);
    color: oklch(var(--bc));
  }

  .prose tr:nth-child(even) {
    background-color: oklch(var(--bc) / 0.02);
  }
}

/* Mobile-specific enhancements */
@media (max-width: 768px) {
  .prose a {
    border-bottom-width: 2px; /* Thicker for mobile touch */
    min-height: 44px;
    padding: 0.25rem 0.125rem;
    padding-bottom: 0.15em;
    margin: -0.25rem -0.125rem;
    display: inline-block;
  }

  .prose a:hover {
    border-bottom-width: 3px;
  }
}
