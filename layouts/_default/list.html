{{ define "content" }}
  {{ partial "list-header.html" . }}

  <!-- Determine card type based on section -->
  {{ $cardType := "card-list" }}
  {{ $items := .Paginator.Pages }}
  {{ $showPagination := true }}
  {{ $sectionTitle := "" }}
  {{ $pageDescription := .Description }}

  {{ if eq .Type "posts" }}
    {{ $cardType = "card-list" }}
    {{ if not .Paginator }}
      {{ $items = first 6 (where site.RegularPages "Type" "posts") }}
      {{ $showPagination = false }}
      {{ $sectionData := index (where site.Data.home.section "id" "posts") 0 }}
      {{ $sectionTitle = $sectionData.title | default "Recent Posts" }}
    {{ end }}
  {{ else if eq .Type "blog" }}
    {{ $cardType = "card-list" }}
    {{ $items := .Paginator.Pages }}
    {{ $sectionData := index (where site.Data.home.section "id" "blog") 0 }}
    {{ $sectionTitle = $sectionData.title | default "Insights & Articles" }}
  {{ else if eq .Type "portfolio" }}
    {{ $cardType = "card-unified" }}
    {{ $sectionData := index (where site.Data.home.section "id" "portfolio") 0 }}
    {{ $sectionTitle = $sectionData.title | default "Featured Projects" }}
  {{ else if eq .Type "tools" }}
    {{ $cardType = "card-unified" }}
    {{ $sectionData := index (where site.Data.home.section "id" "tools") 0 }}
    {{ $sectionTitle = $sectionData.title | default "AI Development Tools" }}
  {{ end }}

  <!-- Section with title and description -->
  {{ if $sectionTitle }}
  <section style="margin-bottom: var(--space-8)">
    {{ if $pageDescription }}
    <p class="text-lg text-base-content/70" style="margin-bottom: var(--space-4)">{{ $pageDescription }}</p>
    {{ end }}
    <h2 class="text-2xl lg:text-3xl font-medium text-secondary mb-responsive-md">{{ $sectionTitle }}</h2>
    <div class="grid gap-responsive-md">
      {{ range $items }}
        {{ partial (printf "components/%s.html" $cardType) . }}
      {{ end }}
    </div>
  </section>
  {{ else }}
    <!-- Regular grid layout -->
    <div class="grid gap-responsive-md">
      {{ range $items }}
        {{ partial (printf "components/%s.html" $cardType) . }}
      {{ end }}
    </div>
  {{ end }}

  <!-- Pagination or View All button -->
  {{ if $showPagination }}
    {{ partial "list-pagination.html" . }}
  {{ else if eq .Type "posts" }}
    <div class="text-center" style="margin-top: var(--space-12)">
      <a href="/posts" class="btn btn-primary btn-lg">
        View All Posts
        <svg xmlns="http://www.w0.org/2000/svg" class="h-5 w-5" style="margin-left: var(--space-2)" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    </div>
  {{ end }}
{{ end }}
