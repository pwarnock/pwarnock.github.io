{{ define "main" }}
<div class="prose prose-lg max-w-none">
  <h1 class="text-4xl font-bold mb-8">{{ .Title }}</h1>
  
  {{ if .Content }}
  <div class="mb-8">
    {{ .Content }}
  </div>
  {{ end }}
  
  <div class="grid gap-6">
    {{ range .Paginator.Pages }}
    <article class="card bg-base-100 shadow-xl">
      <div class="card-body">
        <div class="flex items-center justify-between mb-2">
          <h2 class="card-title">
            <a href="{{ .Permalink }}" class="link link-hover text-primary">
              {{ .Title }}
            </a>
          </h2>
          {{ if .Params.tags }}
          <div class="flex gap-2">
            {{ range .Params.tags }}
            <span class="badge badge-outline">{{ . }}</span>
            {{ end }}
          </div>
          {{ end }}
        </div>
        
        {{ if .Params.summary }}
        <p class="text-base-content/80 mb-4">{{ .Params.summary }}</p>
        {{ else }}
        <p class="text-base-content/80 mb-4">{{ .Summary }}</p>
        {{ end }}
        
        <div class="card-actions justify-between items-center">
          <div class="text-sm text-base-content/60">
            <time datetime="{{ .Date.Format "2006-01-02" }}">
              {{ .Date.Format "January 2, 2006" }}
            </time>
            {{ if .Params.readingTime }}
            <span class="ml-2">· {{ .Params.readingTime }} min read</span>
            {{ end }}
          </div>
          
          <a href="{{ .Permalink }}" class="btn btn-primary btn-sm">
            Read More
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>
    </article>
    {{ end }}
  </div>
  
  {{ if gt .Paginator.TotalPages 1 }}
  <div class="flex justify-center mt-8">
    <div class="join">
      {{ if .Paginator.HasPrev }}
      <a href="{{ .Paginator.Prev.URL }}" class="join-item btn">«</a>
      {{ end }}
      
      {{ $currentPage := .Paginator.PageNumber }}
      {{ $totalPages := .Paginator.TotalPages }}
      {{ $adjacentLinks := 2 }}
      
      {{ range $pages := .Paginator.Pagers }}
        {{ $pageNumber := .PageNumber }}
        {{ if eq $pageNumber $currentPage }}
          <a href="{{ .URL }}" class="join-item btn btn-active">{{ $pageNumber }}</a>
        {{ else if or (le (sub $pageNumber $currentPage) $adjacentLinks) (le (sub $currentPage $pageNumber) $adjacentLinks) }}
          <a href="{{ .URL }}" class="join-item btn">{{ $pageNumber }}</a>
        {{ else if (eq $pageNumber (sub $currentPage $adjacentLinks)) }}
          <span class="join-item btn btn-disabled">...</span>
        {{ else if (eq $pageNumber (add $currentPage $adjacentLinks)) }}
          <span class="join-item btn btn-disabled">...</span>
        {{ end }}
      {{ end }}
      
      {{ if .Paginator.HasNext }}
      <a href="{{ .Paginator.Next.URL }}" class="join-item btn">»</a>
      {{ end }}
    </div>
  </div>
  {{ end }}
</div>
{{ end }}