{{/* BreadcrumbList structured data for SEO */}}
{{ $breadcrumbs := slice }}
{{ $homeItem := dict "@type" "ListItem" "position" 1 "name" "Home" "item" .Site.BaseURL }}
{{ $breadcrumbs = $breadcrumbs | append $homeItem }}

{{ $currentSection := .Section }}
{{ if $currentSection }}
  {{ if eq $currentSection "posts" }}
    {{ $blogItem := dict "@type" "ListItem" "position" 2 "name" "Blog" "item" (printf "%sblog/" .Site.BaseURL) }}
    {{ $breadcrumbs = $breadcrumbs | append $blogItem }}
    {{ if ne .Kind "section" }}
      {{ $postItem := dict "@type" "ListItem" "position" 3 "name" .Title "item" .Permalink }}
      {{ $breadcrumbs = $breadcrumbs | append $postItem }}
    {{ end }}
  {{ else if ne $currentSection "" }}
    {{ $sectionItem := dict "@type" "ListItem" "position" 2 "name" (title $currentSection) "item" (printf "%s%s/" .Site.BaseURL $currentSection) }}
    {{ $breadcrumbs = $breadcrumbs | append $sectionItem }}
    {{ if ne .Kind "section" }}
      {{ $itemItem := dict "@type" "ListItem" "position" 3 "name" .Title "item" .Permalink }}
      {{ $breadcrumbs = $breadcrumbs | append $itemItem }}
    {{ end }}
  {{ end }}
{{ else if ne .Kind "section" }}
  {{ $itemItem := dict "@type" "ListItem" "position" 2 "name" .Title "item" .Permalink }}
  {{ $breadcrumbs = $breadcrumbs | append $itemItem }}
{{ end }}

{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": {{ $breadcrumbs | jsonify }}
}