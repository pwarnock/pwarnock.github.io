{{/* Structured Data based on page type */}}
{{ if eq .Type "page" }}
  {{ if eq .Title "About" }}
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Peter Warnock",
      "jobTitle": "Cloud Engineering & DevOps Leadership",
      "url": "{{ .Site.BaseURL }}",
      "sameAs": [
        "https://github.com/pwarnock",
        "https://www.linkedin.com/in/peterwarnock",
        "https://x.com/pwarnock"
      ],
      "knowsAbout": [
        "Cloud Engineering",
        "DevOps",
        "Fullstack Development",
        "AI Tools",
        "Technology Leadership"
      ],
      "worksFor": {
        "@type": "Organization",
        "name": "Peter Warnock Consulting",
        "url": "{{ .Site.BaseURL }}",
        "description": "Cloud Engineering & DevOps Leadership Consulting",
        "areaServed": "Worldwide",
        "knowsLanguage": ["English"],
        "serviceType": "Consulting",
        "hasOfferCatalog": {
          "@type": "OfferCatalog",
          "name": "Services",
          "itemListElement": [
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Cloud Architecture",
                "description": "Design and implement scalable cloud solutions"
              }
            },
            {
              "@type": "Offer", 
              "itemOffered": {
                "@type": "Service",
                "name": "DevOps Transformation",
                "description": "Modernize development workflows and CI/CD pipelines"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service", 
                "name": "Technical Leadership",
                "description": "Lead engineering teams and technology strategy"
              }
            }
          ]
        }
      }
    }
  {{ else }}
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "{{ .Site.Title }}",
      "url": "{{ .Site.BaseURL }}",
      "description": "{{ .Site.Params.description }}",
      "author": {
        "@type": "Person",
        "name": "Peter Warnock"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Peter Warnock Consulting",
        "url": "{{ .Site.BaseURL }}",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ .Site.BaseURL }}images/logo.png",
          "width": 512,
          "height": 512
        },
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "customer service",
          "availableLanguage": ["English"]
        }
      }
    }
  {{ end }}
{{ else if eq .Type "blog" }}
  {{- $contentType := .Params.content_type | default "original" -}}
  {{- $contentTypes := index .Site.Data "content-types" -}}
  {{- $contentTypeConfig := index $contentTypes.content_types $contentType -}}
  {
    "@context": "https://schema.org",
    "@type": "{{ $contentTypeConfig.schema_type | default "Article" }}",
    "headline": "{{ .Title }}",
    "description": "{{ .Description | default .Summary }}",
    "image": "{{ .Params.featured_image | default "/images/default-blog-image.jpg" | absURL }}",
    "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
    "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}",
    {{- if eq $contentType "original" -}}
    "author": {
      "@type": "Person",
      "name": "Peter Warnock",
      "url": "{{ .Site.BaseURL }}about/",
      "sameAs": [
        "https://github.com/pwarnock",
        "https://www.linkedin.com/in/peterwarnock",
        "https://x.com/pwarnock"
      ]
    },
    "publisher": {
      "@type": "Organization",
      "name": "Peter Warnock Consulting",
      "url": "{{ .Site.BaseURL }}",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ .Site.BaseURL }}images/logo.png",
        "width": 512,
        "height": 512
      }
    },
    {{- else if or (eq $contentType "curated") (eq $contentType "embed") -}}
    "author": {
      "@type": "Person",
      "name": "{{ .Params.attribution | default "Unknown Author" }}"
    },
    {{- if .Params.source_url -}}
    {{- if eq $contentType "curated" -}}
    "isBasedOn": "{{ .Params.source_url }}",
    {{- else if eq $contentType "embed" -}}
    "embedUrl": "{{ .Params.source_url }}",
    {{- end -}}
    {{- end -}}
    {{- end -}}
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ .Permalink }}"
    },
    "url": "{{ .Permalink }}",
    "wordCount": {{ .WordCount }},
    "keywords": {{ if .Params.tags }}{{ delimit .Params.tags ", " | jsonify }}{{ else }}[]{{ end }},
    "inLanguage": "{{ .Site.LanguageCode }}",
    "about": {
      "@type": "Thing",
      "name": "Content Type",
      "description": "{{ $contentTypeConfig.description }}"
    }
  }
{{ else if or (eq .Type "portfolio") (eq .Type "tools") }}
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "{{ .Title }}",
    "description": "{{ .Description | default .Summary }}",
    "image": "{{ .Params.featured_image | default "/images/default-project-image.jpg" | absURL }}",
    "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
    "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}",
    "author": {
      "@type": "Person",
      "name": "Peter Warnock",
      "url": "{{ .Site.BaseURL }}about/"
    },
    "publisher": {
      "@type": "Person",
      "name": "Peter Warnock",
      "url": "{{ .Site.BaseURL }}"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ .Permalink }}"
    },
    "url": "{{ .Permalink }}",
    "programmingLanguage": {{ if .Params.technologies }}{{ .Params.technologies | jsonify }}{{ else }}["JavaScript", "HTML", "CSS"]{{ end }},
    "about": {{ if .Params.category }}{{ .Params.category | jsonify }}{{ else }}"Web Development"{{ end }},
    "educationalLevel": "Intermediate to Advanced",
    "learningResourceType": "Tutorial",
    "teaches": {{ if .Params.skills }}{{ .Params.skills | jsonify }}{{ else }}["Web Development", "Frontend", "Backend"]{{ end }}
  }
{{ else }}
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "{{ .Site.Title }}",
    "url": "{{ .Site.BaseURL }}",
    "description": "{{ .Site.Params.description }}",
    "author": {
      "@type": "Person",
      "name": "Peter Warnock"
    },
    "publisher": {
      "@type": "Person",
      "name": "Peter Warnock"
    }
  }
{{ end }}