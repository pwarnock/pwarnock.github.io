<!-- Hero Featured Item Card - Reusable Component -->
{{ $section := .section }}
{{ $color := .color | default "accent" }}
{{ $heading := .heading }}
{{ $ctaText := .ctaText }}
{{ $ctaUrl := .ctaUrl }}
{{ $secondaryLink := .secondaryLink }}
{{ $secondaryLinkText := $secondaryLink.text }}
{{ $secondaryLinkUrl := $secondaryLink.url }}

{{ if eq $section "blog" }}
  {{ $blogPosts := where site.RegularPages "Section" "blog" }}
  {{ $item := index $blogPosts 0 }}
  {{ if $item }}
  <div class="card bg-base-100/90 backdrop-blur-sm shadow-lg border-2 border-{{ $color }}/20 flex flex-col h-full" role="article" aria-labelledby="featured-item-title">
    <div class="card-body p-4 lg:p-6 flex flex-col justify-between h-full">
      <a href="{{ $ctaUrl }}" class="text-xs font-semibold text-base-content uppercase tracking-wide mb-3 hover:text-{{ $color }} transition-colors inline-block">{{ $heading }}</a>
      <div>
        <div class="flex items-center gap-2 mb-3">
          <span class="badge badge-{{ $color }}">Latest Post</span>
          {{ $contentType := $item.Params.content_type | default "original" }}
          {{ if eq $contentType "curated" }}
            <span class="badge badge-info badge-outline">Curated</span>
          {{ else if eq $contentType "embed" }}
            <span class="badge badge-warning badge-outline">Embed</span>
          {{ else }}
            <span class="badge badge-success badge-outline">Original</span>
          {{ end }}
          <span class="text-xs text-base-content/60">{{ $item.Date.Format "Jan 2, 2006" }}</span>
        </div>

        <!-- Image -->
        {{ $image := $item.Params.thumbnail | default $item.Params.image }}
        {{ if $image }}
        <div class="mb-3">
          <a href="{{ $item.Permalink }}" class="block hover:opacity-90 transition-opacity">
            {{ with $item.Resources.GetMatch (strings.TrimPrefix "/" $image) }}
              <img src="{{ .RelPermalink }}" alt="{{ $item.Title }}" class="max-w-full h-auto rounded-lg shadow-sm" loading="lazy" />
            {{ else }}
              <img src="{{ $image | relURL }}" alt="{{ $item.Title }}" class="max-w-full h-auto rounded-lg shadow-sm" loading="lazy" />
            {{ end }}
          </a>
        </div>
        {{ end }}

        <h3 id="featured-item-title" class="card-title text-lg lg:text-xl mb-3">
          <a href="{{ $item.Permalink }}" class="hover:text-{{ $color }} transition-colors">
            {{ $item.Title }}
          </a>
        </h3>
        <p class="text-xs lg:text-sm text-base-content/80 mb-4 leading-relaxed line-clamp-3">
          {{ $item.Params.summary | default $item.Params.description }}
        </p>
      </div>
      <a href="{{ $ctaUrl }}" class="btn btn-{{ $color }} btn-md w-full mt-4">
        {{ $ctaText }}
      </a>
    </div>
  </div>
  {{ end }}

{{ else if eq $section "portfolio" }}
   {{ $projects := where site.RegularPages "Section" "portfolio" }}
   {{ $item := index $projects 0 }}
   {{ if $item }}
   <div class="card bg-base-100/90 backdrop-blur-sm shadow-lg border-2 border-{{ $color }}/20 flex flex-col" role="article" aria-labelledby="featured-item-title">
     <div class="card-body p-3 lg:p-4 flex flex-col justify-between h-full">
       <a href="{{ $ctaUrl }}" class="text-xs font-semibold text-base-content uppercase tracking-wide mb-2 hover:text-{{ $color }} transition-colors inline-block">{{ $heading }}</a>
      <div>
        <div class="flex items-center gap-2 mb-2">
          <span class="badge badge-sm badge-{{ $color }}">Featured</span>
          <span class="text-xs text-base-content/60">{{ $item.Date.Format "Jan 2, 2006" }}</span>
        </div>

        <h3 id="featured-item-title" class="card-title text-base lg:text-lg mb-2">
          <a href="{{ $item.Permalink }}" class="hover:text-{{ $color }} transition-colors">
            {{ $item.Title }}
          </a>
        </h3>
        <p class="text-xs text-base-content/80 mb-2 leading-relaxed line-clamp-1">
          {{ $item.Params.description | default $item.Summary }}
        </p>
        {{ if $item.Params.technologies }}
        <div class="flex flex-wrap gap-1 mb-2">
          {{ range first 2 $item.Params.technologies }}
          <span class="badge badge-xs badge-{{ $color }}/20">{{ . }}</span>
          {{ end }}
        </div>
        {{ end }}
      </div>
      <a href="{{ $ctaUrl }}" class="btn btn-{{ $color }} btn-sm w-full mt-3">
        {{ $ctaText }}
      </a>
    </div>
  </div>
  {{ end }}

{{ else if eq $section "tools" }}
   {{ $tools := where site.RegularPages "Section" "tools" }}
   {{ $item := index $tools 0 }}
   {{ if $item }}
   <div class="card bg-base-100/90 backdrop-blur-sm shadow-lg border-2 border-{{ $color }}/20 flex flex-col" role="article" aria-labelledby="featured-item-title">
     <div class="card-body p-3 lg:p-4 flex flex-col justify-between h-full">
       <a href="{{ $ctaUrl }}" class="text-xs font-semibold text-base-content uppercase tracking-wide mb-2 hover:text-{{ $color }} transition-colors inline-block">{{ $heading }}</a>
      <div>
        <div class="flex items-center gap-2 mb-2">
          <span class="badge badge-sm badge-{{ $color }}">Featured</span>
          <span class="text-xs text-base-content/60">{{ $item.Date.Format "Jan 2, 2006" }}</span>
        </div>

        <h3 id="featured-item-title" class="card-title text-base lg:text-lg mb-2">
          <a href="{{ $item.Permalink }}" class="hover:text-{{ $color }} transition-colors">
            {{ $item.Title }}
          </a>
        </h3>
        <p class="text-xs text-base-content/80 mb-2 leading-relaxed line-clamp-1">
          {{ $item.Params.description | default $item.Summary }}
        </p>
        {{ if $item.Params.tags }}
        <div class="flex flex-wrap gap-1 mb-2">
          {{ range first 2 $item.Params.tags }}
          <span class="badge badge-xs badge-{{ $color }}/20">{{ . }}</span>
          {{ end }}
        </div>
        {{ end }}
      </div>
      <div class="flex flex-col gap-3 items-center mt-3">
        <a href="{{ $ctaUrl }}" class="btn btn-{{ $color }} btn-sm w-full">
          {{ $ctaText }}
        </a>
        {{ if $secondaryLink }}
        <a href="{{ $secondaryLinkUrl }}" target="_blank" rel="noopener noreferrer" class="text-xs font-semibold text-base-content hover:text-{{ $color }} transition-colors">
          {{ $secondaryLinkText }} â†—
        </a>
        {{ end }}
      </div>
    </div>
  </div>
  {{ end }}
{{ end }}
