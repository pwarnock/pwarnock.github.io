<!-- Belief Cards Shortcode
Renders 4 belief statement cards with icons and color coding
Data source: data/beliefs.toml
-->

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12" role="region" aria-label="Core beliefs">
  {{ range site.Data.beliefs.belief }}
  {{ $idSafeTitle := lower (replace .title " " "-") }}
  <div class="belief-card card bg-base-100/90 backdrop-blur-sm shadow-lg border border-{{ .color }}/20 hover:shadow-xl transition-shadow duration-300" role="article" aria-labelledby="belief-{{ $idSafeTitle }}">
    <div class="card-body p-6 flex flex-col h-full">
      <!-- Icon -->
      <div class="w-12 h-12 rounded-full flex items-center justify-center mb-4 bg-{{ .color }}/10">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-{{ .color }}" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="{{ .icon }}" />
        </svg>
      </div>

      <!-- Title -->
      <h3 id="belief-{{ $idSafeTitle }}" class="card-title text-lg mb-2 text-{{ .color }}">
        {{ .title }}
      </h3>

      <!-- Description -->
      <p class="text-sm text-base-content/80 leading-relaxed flex-grow">
        {{ .description }}
      </p>
    </div>
  </div>
  {{ end }}
</div>

<style>
@supports (opacity: 0) {
  .belief-card {
    opacity: 0;
    animation: fadeInUp 0.6s ease-out forwards;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}
</style>

<script>
(function() {
  if (!window.IntersectionObserver) return;
  
  const cards = document.querySelectorAll('.belief-card');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry, index) => {
      if (entry.isIntersecting) {
        entry.target.style.setProperty('--animation-delay', `${index * 100}ms`);
        entry.target.style.animation = `fadeInUp 0.6s ease-out ${index * 100}ms forwards`;
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  cards.forEach(card => {
    card.style.opacity = '0';
    observer.observe(card);
  });
})();
</script>
